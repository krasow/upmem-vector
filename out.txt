g++ -shared -fPIC -o bin/libvectordpu.so host/allocator.cc host/queue.cc host/vectordpu.cc -Wall -Wextra -g -Icommon -O3 -std=c++20 `dpu-pkg-config --cflags --libs dpu` -DNR_TASKLETS=16 -DNR_DPUS=32 -DENABLE_DPU_LOGGING=1 -Wl,-rpath,/home/david/upmem-driver-test/library/bin
g++ -std=c++20 -o test/vectordpu_test test/test.cc -Ihost -Wall -Wextra -g -Icommon -O3 -Lbin -lvectordpu
./test/vectordpu_test
Starting int_add test...
[runtime] Initializing DPU runtime with 32 DPUs...
[runtime] DPU runtime initialized.
ALLOCATING DPU VECTOR  OF SIZE 1048576 FROM test/test.cc:59
[mem-logger] Allocated dpu_vector<i> of size 1048576 at test/test.cc:59
[EventQueue] Current queue state:
  Event type: DPU_TRANSFER, started: 0, finished: 0
[EventQueue] Processing DPU_TRANSFER event.
[Event] Added completion callback.
[EventQueue] Current queue state:
  Event type: DPU_TRANSFER, started: 1, finished: 0
ALLOCATING DPU VECTOR  OF SIZE 1048576 FROM test/test.cc:60[Event] Callback finished: 
DPU_TRANSFER[mem-logger] Allocated dpu_vector<i> of size 1048576 at test/test.cc:60
[EventQueue] Current queue state:
  Event type: DPU_TRANSFER, started: 0, finished: 0
[EventQueue] Processing DPU_TRANSFER event.
 started=1, finished=0
[Event] Added completion callback.
[EventQueue] Current queue state:
  Event type: DPU_TRANSFER, started: 1, finished: 0
[Event] Callback finished: DPU_TRANSFER started=ALLOCATING DPU VECTOR  OF SIZE 11048576, finished=1
 FROM host/vectordpu.inl:216
[mem-logger] Allocated dpu_vector<i> of size 1048576 at host/vectordpu.inl:216
